<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="pinterest" content="nopin">
<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
<meta name="generator" content="Hugo 0.80.0-DEV" />



<link rel="canonical" href="https://convee.github.io/leetcode/php-copy-3/">


    <link href="//cdn.bootcdn.net/ajax/libs/font-awesome/5.15.1/css/fontawesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/solarized_dark.min.css">
    <title>About - Leetcode by Golang</title>
    
<meta name="description" content="1.安装依赖包yum install -y gcc gcc-c&#43;&#43; make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp gmp-devel expat-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel libcurl libcurl-devel curl curl-devel libmcrypt libmcrypt-devel libxslt libxslt-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmemcached-devel libzip readline readline-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers 2.下载 PHPwget https://www.php.net/distributions/php-7.3.20.tar.gz 3.解压tar -xzvf php-7.3.20.tar.gz cd php-7.">

<meta property="og:title" content="About - Leetcode by Golang">
<meta property="og:type" content="article">
<meta property="og:url" content="https://convee.github.io/leetcode/php-copy-3/">
<meta property="og:image" content="https://convee.github.io/images/default.png">
<meta property="og:site_name" content="Leetcode by Golang">
<meta property="og:description" content="1.安装依赖包yum install -y gcc gcc-c&#43;&#43; make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp gmp-devel expat-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel libcurl libcurl-devel curl curl-devel libmcrypt libmcrypt-devel libxslt libxslt-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmemcached-devel libzip readline readline-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers 2.下载 PHPwget https://www.php.net/distributions/php-7.3.20.tar.gz 3.解压tar -xzvf php-7.3.20.tar.gz cd php-7.">
<meta property="og:locale" content="ja_JP">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="Leetcode by Golang">
<meta name="twitter:url" content="https://convee.github.io/leetcode/php-copy-3/">
<meta name="twitter:title" content="About - Leetcode by Golang">
<meta name="twitter:description" content="1.安装依赖包yum install -y gcc gcc-c&#43;&#43; make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp gmp-devel expat-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel libcurl libcurl-devel curl curl-devel libmcrypt libmcrypt-devel libxslt libxslt-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmemcached-devel libzip readline readline-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers 2.下载 PHPwget https://www.php.net/distributions/php-7.3.20.tar.gz 3.解压tar -xzvf php-7.3.20.tar.gz cd php-7.">
<meta name="twitter:image" content="https://convee.github.io/images/default.png">


<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "NewsArticle",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id":"https:\/\/convee.github.io\/"
    },
    "headline": "About - Leetcode by Golang",
    "image": {
      "@type": "ImageObject",
      "url": "https:\/\/convee.github.io\/images\/default.png",
      "height": 800,
      "width": 800
    },
    "datePublished": "2020-12-11T00:00:54JST",
    "dateModified": "2020-12-11T00:00:54JST",
    "author": {
      "@type": "Person",
      "name": "Leetcode by Golang"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Leetcode by Golang",
      "logo": {
        "@type": "ImageObject",
        "url": "https:\/\/convee.github.io\/images/logo.png",
        "width": 600,
        "height": 60
      }
    },
    "description": "1.安装依赖包\nyum install -y gcc gcc-c\u002b\u002b make zlib zlib-devel pcre pcre-devel libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp gmp-devel expat-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel libcurl libcurl-devel curl curl-devel libmcrypt libmcrypt-devel libxslt libxslt-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmemcached-devel libzip readline readline-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers 2.下载 PHP\nwget https:\/\/www.php.net\/distributions\/php-7.3.20.tar.gz 3.解压\ntar -xzvf php-7.3.20.tar.gz cd php-7."
  }
</script>


    <link href="https://convee.github.io/css/styles.css" rel="stylesheet">
    

  </head>

  <body>
    
    
    

    <header class="l-header">
      <nav class="navbar navbar-default">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://convee.github.io/">Leetcode by Golang</a>
          </div>

          

        </div>
      </nav>
    </header>

    <main>
      <div class="container">
        
<div class="row">
  <div class="col-md-8">

    <nav class="p-crumb">
      <ol class="breadcrumb">
        <li><a href="https://convee.github.io/"><i class="fa fa-home" aria-hidden="true"></i></a></li>
        
        <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="https://convee.github.io/leetcode/" itemprop="url"><span itemprop="title">leetcode</span></a></li>
        
        <li class="active">About</li>
      </ol>
    </nav>

    <article class="single">
  <header>
    <ul class="p-facts">
      <li><i class="fa fa-calendar" aria-hidden="true"></i><time datetime="2020-12-11T00:00:54JST">Dec 11, 2020</time></li>
      <li><i class="fa fa-bookmark" aria-hidden="true"></i><a href="https://convee.github.io/leetcode/">leetcode</a></li>
      
    </ul>

    <h1 class="title">About</h1>
  </header>

  

  <div class="article-body"><p>1.安装依赖包</p>
<pre><code>yum install -y gcc gcc-c++  make zlib zlib-devel pcre pcre-devel  libjpeg libjpeg-devel libpng libpng-devel freetype freetype-devel gdbm-devel db4-devel libXpm-devel libX11-devel gd-devel gmp gmp-devel expat-devel libxml2 libxml2-devel glibc glibc-devel glib2 glib2-devel bzip2 bzip2-devel ncurses ncurses-devel libcurl libcurl-devel curl curl-devel libmcrypt libmcrypt-devel libxslt libxslt-devel xmlrpc-c xmlrpc-c-devel libicu-devel libmemcached-devel libzip readline readline-devel e2fsprogs e2fsprogs-devel krb5 krb5-devel openssl openssl-devel openldap openldap-devel nss_ldap openldap-clients openldap-servers
</code></pre><p>2.下载 PHP</p>
<pre><code>wget https://www.php.net/distributions/php-7.3.20.tar.gz
</code></pre><p>3.解压</p>
<pre><code>tar -xzvf php-7.3.20.tar.gz
cd php-7.3.20
</code></pre><p>4.配置</p>
<pre><code>./configure --prefix=/usr/local/php7 --with-config-file-path=/usr/local/php7/etc --enable-inline-optimization --disable-debug --enable-fpm --with-fpm-user=www --with-fpm-group=www --disable-rpath --enable-soap --with-libxml-dir --with-xmlrpc --with-openssl  --with-mhash --with-pcre-regex --with-zlib --enable-bcmath --with-bz2 --enable-calendar --with-curl --enable-exif --with-pcre-dir --enable-ftp --with-gd --with-openssl-dir --with-jpeg-dir --with-png-dir --with-zlib-dir --with-freetype-dir --enable-gd-jis-conv --with-gettext --with-gmp --with-mhash --enable-mbstring --with-onig --enable-shared --enable-opcache --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-readline --with-iconv --enable-pcntl --enable-shmop --enable-sysvmsg --enable-sysvsem --enable-sysvshm --enable-sockets  --enable-zip --enable-wddx --with-pear
make &amp;&amp; make install
</code></pre><p>5.创建www用户</p>
<pre><code>groupadd www #添加 www 用户组
useradd -g www www #添加 www 用户到 www 用户组
</code></pre><p>6.初始化 php-fpm 配置</p>
<h1 id="复制-phpini">复制 php.ini</h1>
<p>cp php-7.2.20/php.ini-production /usr/local/php/etc/php.ini</p>
<h1 id="增加执行权限">增加执行权限</h1>
<p>chmod +x /etc/init.d/php-fpm</p>
<h1 id="配置-php-fpm-文件">配置 php-fpm 文件</h1>
<p>cd /usr/local/php7/etc/
cp php-fpm.conf.default php-fpm.conf</p>
<h1 id="进入-php-fpmconf--并去除-pid--runphp-fpmpid-的注释">进入 php-fpm.conf , 并去除 pid = run/php-fpm.pid 的注释</h1>
<p>vim php-fpm.conf</p>
<h1 id="复制-wwwconf-文件">复制 www.conf 文件</h1>
<pre><code>cp php-fpm.d/www.conf.default php-fpm.d/www.conf
</code></pre><p>7.php-fpm 启动脚本</p>
<pre><code>• /etc/init.d/php-fpm stop # 停止服务
• /etc/init.d/php-fpm start # 启动服务
• /etc/init.d/php-fpm restart # 重启服务
</code></pre><h1 id="复制启动脚本到-initd-目录">复制启动脚本到 init.d 目录</h1>
<pre><code>cp php-7.2.20/sapi/fpm/init.d.php-fpm /etc/init.d/php-fpm
</code></pre><p>8.centos 管理服务化</p>
<pre><code>• systemctl enable xxxxxx # 配置自启动
• systemctl stop xxxxx # 停止服务
• systemctl start xxxx # 开启服务
• systemctl status xxxx # 查看状态
</code></pre><h1 id="在-centos-7-之后我们可以使用-systemctl-更好的管理系统服务">在 centos 7 之后我们可以使用 systemctl 更好的管理系统服务</h1>
<h1 id="所以我们也要让-php-fpm-支持">所以我们也要让 php-fpm 支持</h1>
<h1 id="因为-php-72-源码包里面含有-systemctl-所需要的脚本文件">因为 php 7.2 源码包里面含有 systemctl 所需要的脚本文件</h1>
<h1 id="我们只要复制过去即可我们来开始配置">我们只要复制过去即可,我们来开始配置</h1>
<h1 id="进入下载的-php源码包">进入下载的 php源码包</h1>
<pre><code>$ cd php-7.2.20/sapi/fpm
</code></pre><h1 id="复制其中的-php-fpmservice-到-usrlibsystemdsystem">复制其中的 php-fpm.service 到 /usr/lib/systemd/system/</h1>
<pre><code>$ cp php-fpm.service /usr/lib/systemd/system/
</code></pre><h1 id="再次使用-systemctl-enable-php-fpm-进行配置自启动">再次使用 systemctl enable php-fpm 进行配置自启动</h1>
<pre><code>$ systemctl enable php-fpm
</code></pre><h1 id="重启测试一下看看自己服务器的-php-fpm-是否成功运行">重启测试一下看看自己服务器的 php-fpm 是否成功运行</h1>
<p>9.php别名设置
• 新增 /usr/bin/php 文件
• chmod u+x /usr/bin/php</p>
<pre><code>#!/bin/bash
/usr/local/php7/bin/php $1
</code></pre><p>• ln -s /usr/local/php7/bin/php /usr/bin/php</p>
</div>

  <footer class="article-footer">
    
    
    
    
  </footer>

</article>


    
  </div>

  <div class="col-md-4">
    
<aside class="l-sidebar">

  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">LATESTS</div>
    </div>
    <div class="list-group">
      
      <a href="https://convee.github.io/leetcode/about/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-10/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-11/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-12/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-13/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-14/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-15/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-16/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-17/" class="list-group-item">About</a>
      
      <a href="https://convee.github.io/leetcode/php-copy-2/" class="list-group-item">About</a>
      
    </div>
  </section>

  
  <section class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title">TAG</div>
    </div>
    <div class="list-group">
      
      <a href="https://convee.github.io/tags/github" class="list-group-item">github</a>
      
      <a href="https://convee.github.io/tags/jekyll" class="list-group-item">jekyll</a>
      
      <a href="https://convee.github.io/tags/octopress" class="list-group-item">octopress</a>
      
    </div>
  </section>
  

</aside>


  </div>
</div>

      </div>
    </main>

    <footer class="l-footer">
      <div class="container">
        <p><span class="h-logo">&copy; Leetcode by Golang</span></p>
        <aside>
          <p>Powered by <a href="https://gohugo.io/">Hugo</a>.</p>
          <p><a href="https://github.com/dim0627/hugo_theme_beg">Beg</a> designed by <a href="http://yet.unresolved.xyz/">Daisuke Tsuji</a>.</p>
        </aside>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

